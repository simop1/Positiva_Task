@model Positiva_Task.Models.UserModel

@{
	var title = "";
	if (Model.UserID == 0)
	{
		title = "Create user";
	}
	else
	{
		title = "Edit user";
	}
}

<div class="modal-header">
	<h4 class="modal-title">@title<br /></h4>
	<button type="button" class="close" data-dismiss="modal" aria-label="Close">
		<span aria-hidden="true">&times;</span>
	</button>
</div>
@using (Ajax.BeginForm("SaveUser", "Home", new AjaxOptions { HttpMethod = "POST", OnSuccess = "OnSubmitSuccess", OnFailure = "OnSubmitFailure" }, new { userID = -1}))
{
	@Html.AntiForgeryToken()
	<div class="modal-body">
		<div id="user-Error" class="row">
			<div class="col-md">
				<span class="text-danger">
				</span>
			</div>
		</div>

		@Html.HiddenFor(model => model.UserID)

		<div class="form-row">
			<div class="form-group col-md">
				@Html.ValidationSummary(true) <br />
				@Html.LabelFor(m => m.FirstName) <br />
				@Html.TextBoxFor(m => m.FirstName)
				@Html.ValidationMessageFor(m => m.FirstName)
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md">
				@Html.ValidationSummary(true) <br />
				@Html.LabelFor(m => m.LastName) <br />
				@Html.TextBoxFor(m => m.LastName)
				@Html.ValidationMessageFor(m => m.LastName)
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md">
				@Html.ValidationSummary(true) <br />
				@Html.LabelFor(m => m.UserName) <br />
				@Html.TextBoxFor(m => m.UserName)
				@Html.ValidationMessageFor(m => m.UserName)
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md">
				@Html.ValidationSummary(true)<br />
				@Html.LabelFor(m => m.Email) <br />
				@Html.TextBoxFor(m => m.Email)
				@Html.ValidationMessageFor(m => m.Email)
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md">
				@Html.ValidationSummary(true)<br />
				@Html.LabelFor(m => m.Password) <br />
				@Html.TextBoxFor(m => m.Password)
				@Html.ValidationMessageFor(m => m.Password)
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md">
				@Html.ValidationSummary(true)<br />
				@Html.LabelFor(m => m.DateOfBirth) <br />

				<div class='input-group date' id='datetimepicker1'>
					@Html.TextBoxFor(m => m.DateOfBirth)
					@*<input type='text' class="form-control" />*@
					<span class="input-group-addon">
						<span class="glyphicon glyphicon-calendar"></span>
					</span>
				</div>


				@Html.ValidationMessageFor(m => m.DateOfBirth)
			</div>
		</div>
	</div>

	<div class="modal-footer">
		<button id="btnModalSubmit" type="submit" class="btn btn-primary">Save</button>
		<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
	</div>
}


@section scripts
{
	<script language="JavaScript" type="text/javascript" src="/js/jquery-1.2.6.min.js"></script>
	<script language="JavaScript" type="text/javascript" src="/js/jquery-ui-personalized-1.5.2.packed.js"></script>
	<script language="JavaScript" type="text/javascript" src="/js/sprinkle.js"></script>
	<script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>
	<script src="~/lib/jquery-validation- unobtrusive/jquery.validate.unobtrusive.js"></script>

	@Styles.Render("//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css")
	@Scripts.Render("//cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js")

	<script type="text/javascript">
		$(function () {
			$('#datetimepicker1').datetimepicker();
		});
	</script>
}